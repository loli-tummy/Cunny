package pictures.cunny.client.impl.modules.exploits;

import pictures.cunny.client.framework.events.EventListener;
import pictures.cunny.client.framework.modules.Categories;
import pictures.cunny.client.framework.modules.Module;
import pictures.cunny.client.impl.events.game.PacketEvent;
import pictures.cunny.client.utility.PacketUtils;
import net.minecraft.network.protocol.game.ClientboundOpenScreenPacket;
import net.minecraft.network.protocol.game.ServerboundContainerClosePacket;

public class InstantClose extends Module {

    public InstantClose() {
        super(Categories.EXPLOITS, "instant-close", "Instantly closes a screen.");
    }

    @EventListener
    public void onPacket(PacketEvent.Received event) {
        if (event.packet instanceof ClientboundOpenScreenPacket packet) {
            PacketUtils.send(new ServerboundContainerClosePacket(packet.getContainerId()));
        }
    }
}
